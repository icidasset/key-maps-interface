<div class="mod-map-toolbar">
  <div class="map-toolbar__actions">
    {{#if has_keys}}
      <a {{action "add"}}>
        <i class="plus"></i>
        Add item
      </a>
    {{/if}}
  </div>

  {{partial "partials/map/toolbar-url"}}
</div>


<div class="content-wrapper">
  <form class="form" {{action "save" on="submit"}}>
    {{#each sortedModel as |map_item index|}}
      {{map-index-row layout=item_template index=index map_item=map_item associations=associations}}

      {{#if map_item.isNew}}
        <div class="form__map-item-ruler"></div>
      {{/if}}

    {{else}}
      {{#if has_keys}}
        <div class="message">
          <i icon=""></i>
          Nothing here
        </div>
      {{else}}
        <div class="message">
          <i icon=""></i>
          Add some keys first
        </div>
      {{/if}}

    {{/each}}

    <button class="btn" type="submit">Save</button>

    {{#each flashMessages.queue as |flash|}}
      {{#flash-message flash=flash class="message"}}
        <i class="check"></i> {{flash.message}}
      {{/flash-message}}
    {{/each}}
  </form>
</div>
